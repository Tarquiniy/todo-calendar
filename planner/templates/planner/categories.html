{% extends 'planner/base.html' %}

{% block content %}
<div class="container my-4">
  <div class="d-flex justify-content-between align-items-center mb-4 animated-item">
    <h1 class="display-5 fw-bold text-gradient">
      <span class="text-primary">üìÇ</span> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
    </h1>
    <a href="{% url 'index' %}" class="btn btn-outline-primary">
      <i class="bi bi-arrow-left me-2"></i> –ù–∞–∑–∞–¥
    </a>
  </div>

  <div class="d-flex justify-content-between mb-4 animated-item" style="animation-delay: 0.2s">
    <div class="d-flex gap-2">
      <a href="{% url 'add_category' %}" class="btn btn-primary">
        <i class="bi bi-plus-circle me-2"></i> –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      </a>
    </div>
    <div>
      <span class="badge bg-info">
        <i class="bi bi-collection me-1"></i> –í—Å–µ–≥–æ: {{ categories.count }}
      </span>
    </div>
  </div>

  <div class="row g-4">
    {% if categories %}
      <div class="col-12 animated-item" style="animation-delay: 0.3s">
        <div class="glass-card p-4">
          <div class="list-group">
            {% for category in categories %}
              <div class="list-group-item d-flex justify-content-between align-items-center glass-card mb-2 border-0">
                <div class="d-flex align-items-center">
                  <span class="badge me-3" style="background-color: {{ category.color }}; width: 20px; height: 20px;"></span>
                  <span class="fs-5 fw-bold">{{ category.name }}</span>
                </div>
                <div class="d-flex gap-2">
                  <a href="{% url 'edit_category' category.id %}" class="btn btn-sm btn-outline-warning">
                    <i class="bi bi-pencil"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                  </a>
                  <a href="{% url 'delete_category' category.id %}" class="btn btn-sm btn-outline-danger">
                    <i class="bi bi-trash"></i> –£–¥–∞–ª–∏—Ç—å
                  </a>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    {% else %}
      <div class="col-12 animated-item" style="animation-delay: 0.3s">
        <div class="glass-card p-5 text-center">
          <div class="display-1 text-muted mb-3">üìÅ</div>
          <h3 class="mb-3">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
          <p class="text-muted">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é</p>
          <a href="{% url 'add_category' %}" class="btn btn-primary">
            <i class="bi bi-plus-circle me-2"></i> –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
          </a>
        </div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}